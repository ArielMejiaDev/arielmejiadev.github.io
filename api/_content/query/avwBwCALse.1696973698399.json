[{"_path":"/blog/31-fix-nuxtjs-laravel-cors-issue","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Fix NuxtJS Laravel CORS Issue","description":"Resolve local CORS issues during development between a localhost API and NuxtJS app","id":31,"published":true,"date":"September 10th, 2023","cover_image":null,"tags":["Laravel","Vue"],"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"2 min read","minutes":1.18,"time":70800,"words":236},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"access-apps-from-the-browser"},"children":[{"type":"text","value":"Access apps from the browser"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a local environment on the backend side using "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Herd/Valet"}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Laravel"}]},{"type":"text","value":" provides two ways to visit your application in the browser"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"php artisan serve"}]},{"type":"text","value":": "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"http://127.0.0.1:80"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vite"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"npm run dev"}]},{"type":"text","value":" to: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"http://backend-app.test"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Both ways are valid, on the frontend side "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NuxtJS"}]},{"type":"text","value":" provides an easy way to access your project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"npm run dev"}]},{"type":"text","value":": "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"http://127.0.0.1:8000"}]}]},{"type":"element","tag":"h2","props":{"id":"set-both-projects"},"children":[{"type":"text","value":"Set both projects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to test that both technologies work together\njust add a backend "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Laravel"}]},{"type":"text","value":" app and check the response in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NuxtJS"}]}]},{"type":"element","tag":"pre","props":{"className":"language-php dracula","code":"// api.php file\n\nRoute::get('hello-world', fn () => 'Hello World');\n","language":"php","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-784317"},"children":[{"type":"text","value":"// api.php file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-432594"},"children":[{"type":"text","value":"Route"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"hello-world"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"fn"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" () => "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Hello World"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":");"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NuxtJS"}]},{"type":"text","value":" we can make a request and get the response in any component"}]},{"type":"element","tag":"pre","props":{"className":"language-html dracula","code":"<script setup>\n// replace the endpoint with your laravel api url\n    \nconst { data, pending, error } = await useFetch('http://backend-app.test/hello-world');\n</script>\n\n<template>\n<h1>{{ data }}</h1>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711501"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-784317"},"children":[{"type":"text","value":"// replace the endpoint with your laravel api url\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { data, pending, error } "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"http://backend-app.test/hello-world"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">{{ data }}</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you open the console you are going to be able to see an issue related to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CORS"}]}]},{"type":"element","tag":"h2","props":{"id":"solving-cors-problem"},"children":[{"type":"text","value":"Solving CORS problem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":" file in the root directory and add a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"routeRule"}]},{"type":"text","value":" object"}]},{"type":"element","tag":"pre","props":{"className":"language-typescript dracula","code":"export default defineNuxtConfig({\n  devtools: { enabled: true },\n  // ...\n  routeRules: {\n    '/api/**': { proxy: { to: \"http://backend-app.test/**\" } }\n  }\n})\n","language":"typescript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  devtools"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { enabled"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-784317"},"children":[{"type":"text","value":"// ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  routeRules"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"/api/**"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { proxy"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { to"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"http://backend-app.test/**"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" } }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"})"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now just rebuild the frontend by re-running: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"npm run dev"}]},{"type":"text","value":" and it now should show the request response without issues"}]},{"type":"element","tag":"h2","props":{"id":"take-in-mind"},"children":[{"type":"text","value":"Take in mind:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You do not need to do this for external API services"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can add a prefix to your backend route like: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"http://backend-app.test/api/**"}]},{"type":"text","value":" to allow wildcard only for api routes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you are using a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"JsonResource"}]},{"type":"text","value":" wrapper as a response in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Laravel"}]},{"type":"text","value":" usually the response would be available when fetching the data as: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"data.data"}]},{"type":"text","value":" in the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt"}]},{"type":"text","value":" side"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-784317{color:#6272A4;}.ct-432594{color:#8BE9FD;font-style:italic;}.ct-166232{color:#FF79C6;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-882767{color:#E9F284;}.ct-035036{color:#F1FA8C;}.ct-711501{color:#50FA7B;font-style:italic;}.ct-531774{color:#BD93F9;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"access-apps-from-the-browser","depth":2,"text":"Access apps from the browser"},{"id":"set-both-projects","depth":2,"text":"Set both projects"},{"id":"solving-cors-problem","depth":2,"text":"Solving CORS problem"},{"id":"take-in-mind","depth":2,"text":"Take in mind:"}]}},"_type":"markdown","_id":"content:blog:31-fix-nuxtjs-laravel-cors-issue.md","_source":"content","_file":"blog/31-fix-nuxtjs-laravel-cors-issue.md","_extension":"md"},{"_path":"/blog/30-add-syntax-highlight-in-nuxt-3-with-prism","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Add Syntax Highlight In Vue With Prism","description":"Highlight your code snippets in Nuxt3 using Prism and custom css themes","id":30,"published":true,"date":"August 25th, 2023","tags":["Vue"],"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"1 min read","minutes":0.845,"time":50700,"words":169},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"install-prism-in-your-project"},"children":[{"type":"text","value":"Install Prism in your project"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"npm install prismjs;\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"prismjs"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In any "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vue"}]},{"type":"text","value":" component import "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Prism"}]},{"type":"text","value":",\ndefault CSS and execute a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"highlightAll()"}]},{"type":"text","value":" method on mounted hook"}]},{"type":"element","tag":"pre","props":{"className":"language-html dracula","code":"<script setup>\nimport { onMounted } from 'vue';\nimport Prism from \"prismjs\";\nimport \"prismjs/themes/prism.min.css\";\n\nonMounted(() => {\n  Prism.highlightAll();\n});\n</script>\n\n<template>\n<pre><code class=\"lang-js\"><span>const x</span> = <span>'hello world'</span>;</code></pre>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711501"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { onMounted } "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"vue"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" Prism "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"prismjs"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"prismjs/themes/prism.min.css"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  Prism."}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"highlightAll"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"});\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711501"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"lang-js"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">const x</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"> = <"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">'hello world'</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">;</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":">"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The code inside template tags is written manually using an online markdown to html converter,\nbut probably the code would be generated from a Database, CMS, API, Markdown Files, etc"}]},{"type":"element","tag":"h2","props":{"id":"customize-prism-theme"},"children":[{"type":"text","value":"Customize Prism Theme"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this repo you can find multiple very well known code themes: "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/PrismJS/prism-themes","rel":["nofollow"]},"children":[{"type":"text","value":"prism-themes"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just go to "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"themes"}]},{"type":"text","value":" folder and copy the content of the desired theme "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"(in my case dracula.css)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a file in "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"assets/css/dracula.css"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of importing the default "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Prism"}]},{"type":"text","value":" styles, import in your "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vue"}]},{"type":"text","value":" component the custom theme "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CSS"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-js dracula","code":"import \"assets/css/dracula.css\";\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"assets/css/dracula.css"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"import-css-globally-in-nuxt"},"children":[{"type":"text","value":"Import CSS Globally in Nuxt"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Take in mind:"}]},{"type":"text","value":" If you are working with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt Content"}]},{"type":"text","value":" it already uses "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Shikiji"}]},{"type":"text","value":"  by default"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":" add the theme directly to avoid import it multiple times:"}]},{"type":"element","tag":"pre","props":{"className":"language-js dracula","code":"export default defineNuxtConfig({\n  devtools: { enabled: true },\n  css: [\n      '~/assets/css/main.css',\n      '~/assets/css/dracula.css'\n  ],\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  devtools"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" { enabled"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  css"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"~/assets/css/main.css"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"~/assets/css/dracula.css"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  ],"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-035036{color:#F1FA8C;}.ct-166232{color:#FF79C6;}.ct-711501{color:#50FA7B;font-style:italic;}.ct-882767{color:#E9F284;}.ct-531774{color:#BD93F9;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"install-prism-in-your-project","depth":2,"text":"Install Prism in your project"},{"id":"customize-prism-theme","depth":2,"text":"Customize Prism Theme"},{"id":"import-css-globally-in-nuxt","depth":2,"text":"Import CSS Globally in Nuxt"}]}},"_type":"markdown","_id":"content:blog:30-add-syntax-highlight-in-nuxt-3-with-prism.md","_source":"content","_file":"blog/30-add-syntax-highlight-in-nuxt-3-with-prism.md","_extension":"md"},{"_path":"/blog/29-run-duster-in-laravel","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Lint and Fix your Laravel Code with Duster and Husky","description":"Lint and Fix your Laravel Code with Duster and Husky","id":29,"published":true,"date":"July 19th, 2023","tags":["Laravel"],"cover_image":null,"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"1 min read","minutes":0.92,"time":55200,"words":184},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tighten"}]},{"type":"text","value":" mentions on its blog"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Duster is an opinionated linter and fixer for Laravel code, that takes the best of Laravelâ€™s Pint,\ntogether with the power of PHP_CodeSniffer and PHP-CS-Fixer"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Duster works on the command line, with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Husky"}]},{"type":"text","value":" or use it's premade "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"GitHub Action"}]},{"type":"text","value":" to run it in your "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CI pipeline"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"During installation & setup process I found a little issue related to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Husky"}]},{"type":"text","value":" so here I share the solutions"}]},{"type":"element","tag":"h2","props":{"id":"install-duster"},"children":[{"type":"text","value":"Install Duster"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"composer require tightenco/duster --dev\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"composer"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"tightenco/duster"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"--dev"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"check-that-your-project-has-git-initialized"},"children":[{"type":"text","value":"Check that your project has git initialized"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If not you can initialize it with"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"git init\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"init"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"install-husky"},"children":[{"type":"text","value":"Install Husky"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"npm i -D husky\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"husky"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"install-lint-staged"},"children":[{"type":"text","value":"Install Lint-Staged"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"npm i -D lint-staged\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"lint-staged"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"initialize-husky"},"children":[{"type":"text","value":"Initialize Husky"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"npx husky-init\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"husky-init"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"add-husky-pre-commit-file"},"children":[{"type":"text","value":"Add Husky Pre-commit file"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"npx husky add ./.husky/pre-commit 'npx --no-install lint-staged'\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"husky"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"./.husky/pre-commit"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"npx --no-install lint-staged"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"remove-npm-test-command-from-pre-commit-file"},"children":[{"type":"text","value":"Remove "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"npm test"}]},{"type":"text","value":" command from "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"pre-commit"}]},{"type":"text","value":" file"}]},{"type":"element","tag":"pre","props":{"className":"language-bash dracula","code":"#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\nnpx --no-install lint-staged\n\nnpm run test # this line should be removed\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-784317"},"children":[{"type":"text","value":"#!/usr/bin/env sh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"dirname"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-283083"},"children":[{"type":"text","value":"$0"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":")/_/husky.sh"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"--no-install"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"lint-staged\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"test"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-784317"},"children":[{"type":"text","value":"# this line should be removed"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configure-lint-staged-for-php-files-in-packagejson-file"},"children":[{"type":"text","value":"Configure Lint Staged for "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"php"}]},{"type":"text","value":" files in "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" file"}]},{"type":"element","tag":"pre","props":{"className":"language-html dracula","code":"    ...\n    \"lint-staged\": {\n        \"**/*.php*\": [\n            \"vendor/bin/duster lint\"\n        ]\n    }\n    ...\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    \"lint-staged\": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        \"**/*.php*\": [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"            \"vendor/bin/duster lint\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    ..."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of just "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"lint"}]},{"type":"text","value":" your codebase, you can use the Duster "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"fix"}]},{"type":"text","value":" command in order to fix the code base automatically."}]},{"type":"element","tag":"h2","props":{"id":"set-github-actions"},"children":[{"type":"text","value":"Set Github Actions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just execute"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"./vendor/bin/duster github-actions\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"./vendor/bin/duster"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"github-actions"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It will publish a github action workflow for Duster, you can configure it and read more about Duster in "},{"type":"element","tag":"a","props":{"href":"https://github.com/tighten/duster#duster","rel":["nofollow"]},"children":[{"type":"text","value":"the docs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-035036{color:#F1FA8C;}.ct-531774{color:#BD93F9;}.ct-882767{color:#E9F284;}.ct-784317{color:#6272A4;}.ct-432593{color:#8BE9FD;}.ct-283083{color:#FFB86C;font-style:italic;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"install-duster","depth":2,"text":"Install Duster"},{"id":"check-that-your-project-has-git-initialized","depth":2,"text":"Check that your project has git initialized"},{"id":"install-husky","depth":2,"text":"Install Husky"},{"id":"install-lint-staged","depth":2,"text":"Install Lint-Staged"},{"id":"initialize-husky","depth":2,"text":"Initialize Husky"},{"id":"add-husky-pre-commit-file","depth":2,"text":"Add Husky Pre-commit file"},{"id":"remove-npm-test-command-from-pre-commit-file","depth":2,"text":"Remove npm test command from pre-commit file"},{"id":"configure-lint-staged-for-php-files-in-packagejson-file","depth":2,"text":"Configure Lint Staged for php files in package.json file"},{"id":"set-github-actions","depth":2,"text":"Set Github Actions"}]}},"_type":"markdown","_id":"content:blog:29-run-duster-in-laravel.md","_source":"content","_file":"blog/29-run-duster-in-laravel.md","_extension":"md"},{"_path":"/blog/28-basic-github-actions-for-laravel","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Basic Github Actions for Laravel","description":"Start using Github Actions in your Laravel Projects with two basic workflows","id":28,"published":true,"date":"April 5th, 2023","cover_image":null,"tags":["Laravel","DevOps"],"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"2 min read","minutes":1.32,"time":79200,"words":264},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This action files require a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".env.ci"}]},{"type":"text","value":" file that is just a copy from "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".env.example"}]},{"type":"text","value":",\nfeel free to adjust this files for your project requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Select the action that fits better for your project"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#github-action-to-run-phpunit-test"},"children":[{"type":"text","value":"Run PHP UNIT Tests"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#github-action-to-run-phpunit-tests-npm-workflow"},"children":[{"type":"text","value":"Run PHPUnit tests & NPM workflow"}]}]}]},{"type":"element","tag":"h3","props":{"id":"github-action-to-run-phpunit-test"},"children":[{"type":"text","value":"Github Action to run PHPUnit test"}]},{"type":"element","tag":"pre","props":{"className":"language-yml dracula","code":"name: CI\non:\n  pull_request:\n    branches:\n      - main\n  push:\n    branches:\n      - main\n\njobs:\n  tests:\n    runs-on: ubuntu-latest\n \n    services:\n      mysql:\n        image: mysql:8.0\n        env:\n          MYSQL_ALLOW_EMPTY_PASSWORD: yes\n          MYSQL_DATABASE: test\n        ports:\n          - 3306:3306\n        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n    steps:\n    - uses: actions/checkout@v2\n      with:\n        fetch-depth: 1\n        \n    - name: Cache composer dependencies\n      uses: actions/cache@v2\n      with:\n        path: vendor\n        key: composer-${{ hashFiles('**/composer.lock') }}\n        restore-keys: |\n          composer-\n          \n    - name: Install PHP\n      uses: shivammathur/setup-php@v2\n      with:\n        php-version: 8.1\n \n    - name: Install composer dependencies\n      run: |\n        composer install --no-scripts\n \n    - name: Prepare Laravel Application\n      run: |\n        cp .env.ci .env\n        php artisan key:generate\n \n    - name: Run Test suite\n      run: php artisan test\n","language":"yml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"CI\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"pull_request"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"branches"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"main\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"branches"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"main\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"jobs"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"tests"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"runs-on"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"ubuntu-latest\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"mysql"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"mysql:8.0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"MYSQL_ALLOW_EMPTY_PASSWORD"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"MYSQL_DATABASE"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"test\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"ports"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"3306:3306\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"--health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"steps"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"actions/checkout@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"fetch-depth"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Cache composer dependencies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"actions/cache@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"vendor\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"composer-${{ hashFiles('**/composer.lock') }}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"restore-keys"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"          composer-\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"          \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Install PHP\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"shivammathur/setup-php@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"php-version"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"8.1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Install composer dependencies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        composer install --no-scripts\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Prepare Laravel Application\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        cp .env.ci .env\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        php artisan key:generate\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Run Test suite\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"php artisan test"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"github-action-to-run-phpunit-tests-npm-workflow"},"children":[{"type":"text","value":"Github Action to run PHPUnit tests & NPM workflow"}]},{"type":"element","tag":"pre","props":{"className":"language-yml dracula","code":"name: CI\non:\n  pull_request:\n    branches:\n      - main\n  push:\n    branches:\n      - main\n\njobs:\n  tests:\n    runs-on: ubuntu-latest\n \n    services:\n      mysql:\n        image: mysql:8.0\n        env:\n          MYSQL_ALLOW_EMPTY_PASSWORD: yes\n          MYSQL_DATABASE: test\n        ports:\n          - 3306:3306\n        options: --health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n \n    steps:\n    - uses: actions/checkout@v2\n      with:\n        fetch-depth: 1\n        \n    - name: Cache composer dependencies\n      uses: actions/cache@v2\n      with:\n        path: vendor\n        key: composer-${{ hashFiles('**/composer.lock') }}\n        restore-keys: |\n          composer-\n          \n    - name: Install PHP\n      uses: shivammathur/setup-php@v2\n      with:\n        php-version: 8.1\n \n    - name: Install composer dependencies\n      run: |\n        composer install --no-scripts\n \n    - name: Prepare Laravel Application\n      run: |\n        cp .env.ci .env\n        php artisan key:generate\n \n    - name: Run Test suite\n      run: php artisan test\n\n    - name: Install NPM dependencies\n      run: npm install\n      \n    - name: Compile assets\n      run: npm run build\n","language":"yml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"CI\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"pull_request"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"branches"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"main\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"branches"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"main\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"jobs"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"tests"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"runs-on"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"ubuntu-latest\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"mysql"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"mysql:8.0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"MYSQL_ALLOW_EMPTY_PASSWORD"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"MYSQL_DATABASE"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"test\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"ports"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"3306:3306\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"--health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"steps"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"actions/checkout@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"fetch-depth"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Cache composer dependencies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"actions/cache@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"vendor\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"composer-${{ hashFiles('**/composer.lock') }}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"restore-keys"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"          composer-\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"          \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Install PHP\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"uses"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"shivammathur/setup-php@v2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"php-version"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"8.1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Install composer dependencies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        composer install --no-scripts\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Prepare Laravel Application\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"|\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        cp .env.ci .env\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"        php artisan key:generate\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Run Test suite\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"php artisan test\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Install NPM dependencies\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"npm install\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"Compile assets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-432593"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"npm run build"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-432593{color:#8BE9FD;}.ct-166232{color:#FF79C6;}.ct-183901{color:#F8F8F2;}.ct-035036{color:#F1FA8C;}.ct-531774{color:#BD93F9;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"github-action-to-run-phpunit-test","depth":3,"text":"Github Action to run PHPUnit test"},{"id":"github-action-to-run-phpunit-tests-npm-workflow","depth":3,"text":"Github Action to run PHPUnit tests & NPM workflow"}]}},"_type":"markdown","_id":"content:blog:28-basic-github-actions-for-laravel.md","_source":"content","_file":"blog/28-basic-github-actions-for-laravel.md","_extension":"md"},{"_path":"/blog/27-load-laravel-env-variables-into-javascript-code-vite","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Load Laravel ENV Variables Into Javascript Files With Vite","description":"Use Laravel ENV variables inside your Javascript Files","id":27,"published":true,"date":"December 11th, 2022","cover_image":null,"tags":["Laravel"],"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"1 min read","minutes":0.12,"time":7200,"words":24},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's imagine that our "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file has this value"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"VITE_API_PUBLIC_KEY=123\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"VITE_API_PUBLIC_KEY"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"123"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then in your Javascript component or any frontend file you can get the value as"}]},{"type":"element","tag":"pre","props":{"className":"language-javascript dracula","code":"console.log(import.meta.env.VITE_API_PUBLIC_KEY)\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":".meta.env."}]},{"type":"element","tag":"span","props":{"class":"ct-531774"},"children":[{"type":"text","value":"VITE_API_PUBLIC_KEY"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-531774{color:#BD93F9;}.ct-166232{color:#FF79C6;}.ct-183901{color:#F8F8F2;}.ct-711500{color:#50FA7B;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:blog:27-load-laravel-env-variables-into-javascript-code-vite.md","_source":"content","_file":"blog/27-load-laravel-env-variables-into-javascript-code-vite.md","_extension":"md"}]