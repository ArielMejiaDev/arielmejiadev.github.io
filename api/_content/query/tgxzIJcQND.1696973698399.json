{"_path":"/blog/3-format-money-with-custom-blade-directives","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Laravel blade directive for money format","description":"Create a custom blade directive to print an amount in money format easy","id":3,"published":true,"date":"June 11th, 2020","cover_image":"https://dev-to-uploads.s3.amazonaws.com/i/7wfui6zymk8r1uglcva2.png","tags":["Laravel"],"announcement_banner":null,"announcement_link":null,"readingTime":{"text":"1 min read","minutes":0.68,"time":40800,"words":136},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"create-a-new-service-provider"},"children":[{"type":"text","value":"Create a new service provider:"}]},{"type":"element","tag":"pre","props":{"className":"language-shell dracula","code":"php artisan make:provider BladeServiceProvider\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"php"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"artisan"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"make:provider"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"BladeServiceProvider"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"register-the-new-service-provider"},"children":[{"type":"text","value":"Register the new service provider:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"config/app.php"}]},{"type":"text","value":" add the new blade service provider in "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"providers"}]},{"type":"text","value":" array:"}]},{"type":"element","tag":"pre","props":{"className":"language-php dracula","code":"$providers = [\n    ...\n    App\\Providers\\BladeServiceProvider::class,\n];\n","language":"php","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"$providers "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-432594"},"children":[{"type":"text","value":"App"}]},{"type":"element","tag":"span","props":{"class":"ct-166233"},"children":[{"type":"text","value":"\\"}]},{"type":"element","tag":"span","props":{"class":"ct-432594"},"children":[{"type":"text","value":"Providers"}]},{"type":"element","tag":"span","props":{"class":"ct-166233"},"children":[{"type":"text","value":"\\"}]},{"type":"element","tag":"span","props":{"class":"ct-432594"},"children":[{"type":"text","value":"BladeServiceProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"::class"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"];"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"add-the-directive-in-the-blade-service-provider"},"children":[{"type":"text","value":"Add the directive in the blade service provider:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"app/Providers/BladeServiceProvider"}]},{"type":"text","value":" add this code inside the boot method:"}]},{"type":"element","tag":"pre","props":{"className":"language-php dracula","code":"Blade::directive('money', function ($money) {\n    return \"<?php echo number_format($money, 2); ?>\";\n});\n","language":"php","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-432594"},"children":[{"type":"text","value":"Blade"}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"directive"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" ($money) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":"<?php echo number_format("}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"$money"}]},{"type":"element","tag":"span","props":{"class":"ct-035036"},"children":[{"type":"text","value":", 2); ?>"}]},{"type":"element","tag":"span","props":{"class":"ct-882767"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"});"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It uses the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Blade facade"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"directive"}]},{"type":"text","value":" method, the first argument is the name of the directive\nin this case "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"money"}]},{"type":"text","value":", the second argument is a "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"callback"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"$money"}]},{"type":"text","value":" variable is the value pass through the directive,\nthen it returns the value formatted using the php function "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"number_format"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"use-the-new-money-directive"},"children":[{"type":"text","value":"Use the new money directive:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In any blade file:"}]},{"type":"element","tag":"pre","props":{"className":"language-php dracula","code":"@money($value)\n","language":"php","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-166232"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-711500"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-183901"},"children":[{"type":"text","value":"($value)"}]}]}]}]},{"type":"element","tag":"hr","props":{"id":""},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notes:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I think that this directives are a great place to make some tricky formatting, but if you want to add more logic, maybe a best way to add this is with a model method or an action class."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks for reading!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".dracula{color:#F8F8F2;background:#282A36;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-035036{color:#F1FA8C;}.ct-166232{color:#FF79C6;}.ct-432594{color:#8BE9FD;font-style:italic;}.ct-166233{color:#FF79C6;font-style:italic;}.ct-882767{color:#E9F284;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-a-new-service-provider","depth":2,"text":"Create a new service provider:"},{"id":"register-the-new-service-provider","depth":2,"text":"Register the new service provider:"},{"id":"add-the-directive-in-the-blade-service-provider","depth":2,"text":"Add the directive in the blade service provider:"},{"id":"use-the-new-money-directive","depth":2,"text":"Use the new money directive:"}]}},"_type":"markdown","_id":"content:blog:3-format-money-with-custom-blade-directives.md","_source":"content","_file":"blog/3-format-money-with-custom-blade-directives.md","_extension":"md"}