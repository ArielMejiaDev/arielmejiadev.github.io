[{"data":1,"prerenderedAt":722},["Reactive",2],{"post-29-run-duster-in-laravel":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":8,"id":9,"published":10,"date":11,"tags":12,"cover_image":14,"announcement_banner":14,"announcement_link":14,"readingTime":15,"body":20,"_type":717,"_id":718,"_source":719,"_file":720,"_extension":721},"/blog/29-run-duster-in-laravel","blog",false,"","Lint and Fix your Laravel Code with Duster and Husky",29,true,"July 19th, 2023",[13],"Laravel",null,{"text":16,"minutes":17,"time":18,"words":19},"1 min read",0.92,55200,184,{"type":21,"children":22,"toc":704},"root",[23,39,48,72,83,90,144,150,155,179,185,227,233,272,278,302,308,367,387,539,558,625,644,650,655,679,693,698],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28,31,37],{"type":29,"value":30},"text","As ",{"type":24,"tag":32,"props":33,"children":34},"strong",{},[35],{"type":29,"value":36},"Tighten",{"type":29,"value":38}," mentions on its blog",{"type":24,"tag":40,"props":41,"children":42},"blockquote",{},[43],{"type":24,"tag":25,"props":44,"children":45},{},[46],{"type":29,"value":47},"Duster is an opinionated linter and fixer for Laravel code, that takes the best of Laravelâ€™s Pint,\ntogether with the power of PHP_CodeSniffer and PHP-CS-Fixer",{"type":24,"tag":25,"props":49,"children":50},{},[51,53,58,60,65,67],{"type":29,"value":52},"Duster works on the command line, with ",{"type":24,"tag":32,"props":54,"children":55},{},[56],{"type":29,"value":57},"Husky",{"type":29,"value":59}," or use it's premade ",{"type":24,"tag":32,"props":61,"children":62},{},[63],{"type":29,"value":64},"GitHub Action",{"type":29,"value":66}," to run it in your ",{"type":24,"tag":32,"props":68,"children":69},{},[70],{"type":29,"value":71},"CI pipeline",{"type":24,"tag":25,"props":73,"children":74},{},[75,77,81],{"type":29,"value":76},"During installation & setup process I found a little issue related to ",{"type":24,"tag":32,"props":78,"children":79},{},[80],{"type":29,"value":57},{"type":29,"value":82}," so here I share the solutions",{"type":24,"tag":84,"props":85,"children":87},"h2",{"id":86},"install-duster",[88],{"type":29,"value":89},"Install Duster",{"type":24,"tag":91,"props":92,"children":96},"pre",{"className":93,"code":94,"language":95,"meta":7},"language-shell dracula","composer require tightenco/duster --dev\n","shell",[97],{"type":24,"tag":98,"props":99,"children":100},"code",{"__ignoreMap":7},[101],{"type":24,"tag":102,"props":103,"children":106},"span",{"class":104,"line":105},"line",1,[107,113,119,125,129,134,138],{"type":24,"tag":102,"props":108,"children":110},{"class":109},"ct-711500",[111],{"type":29,"value":112},"composer",{"type":24,"tag":102,"props":114,"children":116},{"class":115},"ct-183901",[117],{"type":29,"value":118}," ",{"type":24,"tag":102,"props":120,"children":122},{"class":121},"ct-035036",[123],{"type":29,"value":124},"require",{"type":24,"tag":102,"props":126,"children":127},{"class":115},[128],{"type":29,"value":118},{"type":24,"tag":102,"props":130,"children":131},{"class":121},[132],{"type":29,"value":133},"tightenco/duster",{"type":24,"tag":102,"props":135,"children":136},{"class":115},[137],{"type":29,"value":118},{"type":24,"tag":102,"props":139,"children":141},{"class":140},"ct-531774",[142],{"type":29,"value":143},"--dev",{"type":24,"tag":84,"props":145,"children":147},{"id":146},"check-that-your-project-has-git-initialized",[148],{"type":29,"value":149},"Check that your project has git initialized",{"type":24,"tag":25,"props":151,"children":152},{},[153],{"type":29,"value":154},"If not you can initialize it with",{"type":24,"tag":91,"props":156,"children":158},{"className":93,"code":157,"language":95,"meta":7},"git init\n",[159],{"type":24,"tag":98,"props":160,"children":161},{"__ignoreMap":7},[162],{"type":24,"tag":102,"props":163,"children":164},{"class":104,"line":105},[165,170,174],{"type":24,"tag":102,"props":166,"children":167},{"class":109},[168],{"type":29,"value":169},"git",{"type":24,"tag":102,"props":171,"children":172},{"class":115},[173],{"type":29,"value":118},{"type":24,"tag":102,"props":175,"children":176},{"class":121},[177],{"type":29,"value":178},"init",{"type":24,"tag":84,"props":180,"children":182},{"id":181},"install-husky",[183],{"type":29,"value":184},"Install Husky",{"type":24,"tag":91,"props":186,"children":188},{"className":93,"code":187,"language":95,"meta":7},"npm i -D husky\n",[189],{"type":24,"tag":98,"props":190,"children":191},{"__ignoreMap":7},[192],{"type":24,"tag":102,"props":193,"children":194},{"class":104,"line":105},[195,200,204,209,213,218,222],{"type":24,"tag":102,"props":196,"children":197},{"class":109},[198],{"type":29,"value":199},"npm",{"type":24,"tag":102,"props":201,"children":202},{"class":115},[203],{"type":29,"value":118},{"type":24,"tag":102,"props":205,"children":206},{"class":121},[207],{"type":29,"value":208},"i",{"type":24,"tag":102,"props":210,"children":211},{"class":115},[212],{"type":29,"value":118},{"type":24,"tag":102,"props":214,"children":215},{"class":140},[216],{"type":29,"value":217},"-D",{"type":24,"tag":102,"props":219,"children":220},{"class":115},[221],{"type":29,"value":118},{"type":24,"tag":102,"props":223,"children":224},{"class":121},[225],{"type":29,"value":226},"husky",{"type":24,"tag":84,"props":228,"children":230},{"id":229},"install-lint-staged",[231],{"type":29,"value":232},"Install Lint-Staged",{"type":24,"tag":91,"props":234,"children":236},{"className":93,"code":235,"language":95,"meta":7},"npm i -D lint-staged\n",[237],{"type":24,"tag":98,"props":238,"children":239},{"__ignoreMap":7},[240],{"type":24,"tag":102,"props":241,"children":242},{"class":104,"line":105},[243,247,251,255,259,263,267],{"type":24,"tag":102,"props":244,"children":245},{"class":109},[246],{"type":29,"value":199},{"type":24,"tag":102,"props":248,"children":249},{"class":115},[250],{"type":29,"value":118},{"type":24,"tag":102,"props":252,"children":253},{"class":121},[254],{"type":29,"value":208},{"type":24,"tag":102,"props":256,"children":257},{"class":115},[258],{"type":29,"value":118},{"type":24,"tag":102,"props":260,"children":261},{"class":140},[262],{"type":29,"value":217},{"type":24,"tag":102,"props":264,"children":265},{"class":115},[266],{"type":29,"value":118},{"type":24,"tag":102,"props":268,"children":269},{"class":121},[270],{"type":29,"value":271},"lint-staged",{"type":24,"tag":84,"props":273,"children":275},{"id":274},"initialize-husky",[276],{"type":29,"value":277},"Initialize Husky",{"type":24,"tag":91,"props":279,"children":281},{"className":93,"code":280,"language":95,"meta":7},"npx husky-init\n",[282],{"type":24,"tag":98,"props":283,"children":284},{"__ignoreMap":7},[285],{"type":24,"tag":102,"props":286,"children":287},{"class":104,"line":105},[288,293,297],{"type":24,"tag":102,"props":289,"children":290},{"class":109},[291],{"type":29,"value":292},"npx",{"type":24,"tag":102,"props":294,"children":295},{"class":115},[296],{"type":29,"value":118},{"type":24,"tag":102,"props":298,"children":299},{"class":121},[300],{"type":29,"value":301},"husky-init",{"type":24,"tag":84,"props":303,"children":305},{"id":304},"add-husky-pre-commit-file",[306],{"type":29,"value":307},"Add Husky Pre-commit file",{"type":24,"tag":91,"props":309,"children":311},{"className":93,"code":310,"language":95,"meta":7},"npx husky add ./.husky/pre-commit 'npx --no-install lint-staged'\n",[312],{"type":24,"tag":98,"props":313,"children":314},{"__ignoreMap":7},[315],{"type":24,"tag":102,"props":316,"children":317},{"class":104,"line":105},[318,322,326,330,334,339,343,348,352,358,363],{"type":24,"tag":102,"props":319,"children":320},{"class":109},[321],{"type":29,"value":292},{"type":24,"tag":102,"props":323,"children":324},{"class":115},[325],{"type":29,"value":118},{"type":24,"tag":102,"props":327,"children":328},{"class":121},[329],{"type":29,"value":226},{"type":24,"tag":102,"props":331,"children":332},{"class":115},[333],{"type":29,"value":118},{"type":24,"tag":102,"props":335,"children":336},{"class":121},[337],{"type":29,"value":338},"add",{"type":24,"tag":102,"props":340,"children":341},{"class":115},[342],{"type":29,"value":118},{"type":24,"tag":102,"props":344,"children":345},{"class":121},[346],{"type":29,"value":347},"./.husky/pre-commit",{"type":24,"tag":102,"props":349,"children":350},{"class":115},[351],{"type":29,"value":118},{"type":24,"tag":102,"props":353,"children":355},{"class":354},"ct-882767",[356],{"type":29,"value":357},"'",{"type":24,"tag":102,"props":359,"children":360},{"class":121},[361],{"type":29,"value":362},"npx --no-install lint-staged",{"type":24,"tag":102,"props":364,"children":365},{"class":354},[366],{"type":29,"value":357},{"type":24,"tag":84,"props":368,"children":370},{"id":369},"remove-npm-test-command-from-pre-commit-file",[371,373,378,380,385],{"type":29,"value":372},"Remove ",{"type":24,"tag":98,"props":374,"children":375},{},[376],{"type":29,"value":377},"npm test",{"type":29,"value":379}," command from ",{"type":24,"tag":98,"props":381,"children":382},{},[383],{"type":29,"value":384},"pre-commit",{"type":29,"value":386}," file",{"type":24,"tag":91,"props":388,"children":392},{"className":389,"code":390,"language":391,"meta":7},"language-bash dracula","#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\nnpx --no-install lint-staged\n\nnpm run test # this line should be removed\n","bash",[393],{"type":24,"tag":98,"props":394,"children":395},{"__ignoreMap":7},[396,405,471,497,504],{"type":24,"tag":102,"props":397,"children":398},{"class":104,"line":105},[399],{"type":24,"tag":102,"props":400,"children":402},{"class":401},"ct-784317",[403],{"type":29,"value":404},"#!/usr/bin/env sh\n",{"type":24,"tag":102,"props":406,"children":408},{"class":104,"line":407},2,[409,415,419,424,429,434,438,443,447,451,457,461,466],{"type":24,"tag":102,"props":410,"children":412},{"class":411},"ct-432593",[413],{"type":29,"value":414},".",{"type":24,"tag":102,"props":416,"children":417},{"class":115},[418],{"type":29,"value":118},{"type":24,"tag":102,"props":420,"children":421},{"class":354},[422],{"type":29,"value":423},"\"",{"type":24,"tag":102,"props":425,"children":426},{"class":121},[427],{"type":29,"value":428},"$(",{"type":24,"tag":102,"props":430,"children":431},{"class":109},[432],{"type":29,"value":433},"dirname",{"type":24,"tag":102,"props":435,"children":436},{"class":121},[437],{"type":29,"value":118},{"type":24,"tag":102,"props":439,"children":440},{"class":140},[441],{"type":29,"value":442},"--",{"type":24,"tag":102,"props":444,"children":445},{"class":121},[446],{"type":29,"value":118},{"type":24,"tag":102,"props":448,"children":449},{"class":354},[450],{"type":29,"value":423},{"type":24,"tag":102,"props":452,"children":454},{"class":453},"ct-283083",[455],{"type":29,"value":456},"$0",{"type":24,"tag":102,"props":458,"children":459},{"class":354},[460],{"type":29,"value":423},{"type":24,"tag":102,"props":462,"children":463},{"class":121},[464],{"type":29,"value":465},")/_/husky.sh",{"type":24,"tag":102,"props":467,"children":468},{"class":354},[469],{"type":29,"value":470},"\"\n",{"type":24,"tag":102,"props":472,"children":474},{"class":104,"line":473},3,[475,479,483,488,492],{"type":24,"tag":102,"props":476,"children":477},{"class":109},[478],{"type":29,"value":292},{"type":24,"tag":102,"props":480,"children":481},{"class":115},[482],{"type":29,"value":118},{"type":24,"tag":102,"props":484,"children":485},{"class":140},[486],{"type":29,"value":487},"--no-install",{"type":24,"tag":102,"props":489,"children":490},{"class":115},[491],{"type":29,"value":118},{"type":24,"tag":102,"props":493,"children":494},{"class":121},[495],{"type":29,"value":496},"lint-staged\n",{"type":24,"tag":102,"props":498,"children":500},{"class":104,"line":499},4,[501],{"type":24,"tag":102,"props":502,"children":503},{},[],{"type":24,"tag":102,"props":505,"children":507},{"class":104,"line":506},5,[508,512,516,521,525,530,534],{"type":24,"tag":102,"props":509,"children":510},{"class":109},[511],{"type":29,"value":199},{"type":24,"tag":102,"props":513,"children":514},{"class":115},[515],{"type":29,"value":118},{"type":24,"tag":102,"props":517,"children":518},{"class":121},[519],{"type":29,"value":520},"run",{"type":24,"tag":102,"props":522,"children":523},{"class":115},[524],{"type":29,"value":118},{"type":24,"tag":102,"props":526,"children":527},{"class":121},[528],{"type":29,"value":529},"test",{"type":24,"tag":102,"props":531,"children":532},{"class":115},[533],{"type":29,"value":118},{"type":24,"tag":102,"props":535,"children":536},{"class":401},[537],{"type":29,"value":538},"# this line should be removed",{"type":24,"tag":84,"props":540,"children":542},{"id":541},"configure-lint-staged-for-php-files-in-packagejson-file",[543,545,550,552,557],{"type":29,"value":544},"Configure Lint Staged for ",{"type":24,"tag":98,"props":546,"children":547},{},[548],{"type":29,"value":549},"php",{"type":29,"value":551}," files in ",{"type":24,"tag":98,"props":553,"children":554},{},[555],{"type":29,"value":556},"package.json",{"type":29,"value":386},{"type":24,"tag":91,"props":559,"children":563},{"className":560,"code":561,"language":562,"meta":7},"language-html dracula","    ...\n    \"lint-staged\": {\n        \"**/*.php*\": [\n            \"vendor/bin/duster lint\"\n        ]\n    }\n    ...\n","html",[564],{"type":24,"tag":98,"props":565,"children":566},{"__ignoreMap":7},[567,575,583,591,599,607,616],{"type":24,"tag":102,"props":568,"children":569},{"class":104,"line":105},[570],{"type":24,"tag":102,"props":571,"children":572},{"class":115},[573],{"type":29,"value":574},"    ...\n",{"type":24,"tag":102,"props":576,"children":577},{"class":104,"line":407},[578],{"type":24,"tag":102,"props":579,"children":580},{"class":115},[581],{"type":29,"value":582},"    \"lint-staged\": {\n",{"type":24,"tag":102,"props":584,"children":585},{"class":104,"line":473},[586],{"type":24,"tag":102,"props":587,"children":588},{"class":115},[589],{"type":29,"value":590},"        \"**/*.php*\": [\n",{"type":24,"tag":102,"props":592,"children":593},{"class":104,"line":499},[594],{"type":24,"tag":102,"props":595,"children":596},{"class":115},[597],{"type":29,"value":598},"            \"vendor/bin/duster lint\"\n",{"type":24,"tag":102,"props":600,"children":601},{"class":104,"line":506},[602],{"type":24,"tag":102,"props":603,"children":604},{"class":115},[605],{"type":29,"value":606},"        ]\n",{"type":24,"tag":102,"props":608,"children":610},{"class":104,"line":609},6,[611],{"type":24,"tag":102,"props":612,"children":613},{"class":115},[614],{"type":29,"value":615},"    }\n",{"type":24,"tag":102,"props":617,"children":619},{"class":104,"line":618},7,[620],{"type":24,"tag":102,"props":621,"children":622},{"class":115},[623],{"type":29,"value":624},"    ...",{"type":24,"tag":25,"props":626,"children":627},{},[628,630,635,637,642],{"type":29,"value":629},"Instead of just ",{"type":24,"tag":98,"props":631,"children":632},{},[633],{"type":29,"value":634},"lint",{"type":29,"value":636}," your codebase, you can use the Duster ",{"type":24,"tag":98,"props":638,"children":639},{},[640],{"type":29,"value":641},"fix",{"type":29,"value":643}," command in order to fix the code base automatically.",{"type":24,"tag":84,"props":645,"children":647},{"id":646},"set-github-actions",[648],{"type":29,"value":649},"Set Github Actions",{"type":24,"tag":25,"props":651,"children":652},{},[653],{"type":29,"value":654},"Just execute",{"type":24,"tag":91,"props":656,"children":658},{"className":93,"code":657,"language":95,"meta":7},"./vendor/bin/duster github-actions\n",[659],{"type":24,"tag":98,"props":660,"children":661},{"__ignoreMap":7},[662],{"type":24,"tag":102,"props":663,"children":664},{"class":104,"line":105},[665,670,674],{"type":24,"tag":102,"props":666,"children":667},{"class":109},[668],{"type":29,"value":669},"./vendor/bin/duster",{"type":24,"tag":102,"props":671,"children":672},{"class":115},[673],{"type":29,"value":118},{"type":24,"tag":102,"props":675,"children":676},{"class":121},[677],{"type":29,"value":678},"github-actions",{"type":24,"tag":25,"props":680,"children":681},{},[682,684],{"type":29,"value":683},"It will publish a github action workflow for Duster, you can configure it and read more about Duster in ",{"type":24,"tag":685,"props":686,"children":690},"a",{"href":687,"rel":688},"https://github.com/tighten/duster#duster",[689],"nofollow",[691],{"type":29,"value":692},"the docs",{"type":24,"tag":25,"props":694,"children":695},{},[696],{"type":29,"value":697},"Thanks for reading!",{"type":24,"tag":699,"props":700,"children":701},"style",{},[702],{"type":29,"value":703},".dracula{color:#F8F8F2;background:#282A36;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-035036{color:#F1FA8C;}.ct-531774{color:#BD93F9;}.ct-882767{color:#E9F284;}.ct-784317{color:#6272A4;}.ct-432593{color:#8BE9FD;}.ct-283083{color:#FFB86C;font-style:italic;}",{"title":7,"searchDepth":407,"depth":407,"links":705},[706,707,708,709,710,711,712,714,716],{"id":86,"depth":407,"text":89},{"id":146,"depth":407,"text":149},{"id":181,"depth":407,"text":184},{"id":229,"depth":407,"text":232},{"id":274,"depth":407,"text":277},{"id":304,"depth":407,"text":307},{"id":369,"depth":407,"text":713},"Remove npm test command from pre-commit file",{"id":541,"depth":407,"text":715},"Configure Lint Staged for php files in package.json file",{"id":646,"depth":407,"text":649},"markdown","content:blog:29-run-duster-in-laravel.md","content","blog/29-run-duster-in-laravel.md","md",1696974818801]