[{"data":1,"prerenderedAt":781},["Reactive",2],{"post-31-fix-nuxtjs-laravel-cors-issue":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"id":10,"published":11,"date":12,"cover_image":13,"tags":14,"announcement_banner":13,"announcement_link":13,"readingTime":17,"body":22,"_type":776,"_id":777,"_source":778,"_file":779,"_extension":780},"/blog/31-fix-nuxtjs-laravel-cors-issue","blog",false,"","Fix NuxtJS Laravel CORS Issue","Resolve local CORS issues during development between a localhost API and NuxtJS app",31,true,"September 10th, 2023",null,[15,16],"Laravel","Vue",{"text":18,"minutes":19,"time":20,"words":21},"2 min read",1.18,70800,236,{"type":23,"children":24,"toc":770},"root",[25,34,55,100,112,125,131,153,259,270,466,476,482,501,690,701,707,759,764],{"type":26,"tag":27,"props":28,"children":30},"element","h2",{"id":29},"access-apps-from-the-browser",[31],{"type":32,"value":33},"text","Access apps from the browser",{"type":26,"tag":35,"props":36,"children":37},"p",{},[38,40,46,48,53],{"type":32,"value":39},"For a local environment on the backend side using ",{"type":26,"tag":41,"props":42,"children":43},"code",{},[44],{"type":32,"value":45},"Herd/Valet",{"type":32,"value":47}," ",{"type":26,"tag":49,"props":50,"children":51},"strong",{},[52],{"type":32,"value":15},{"type":32,"value":54}," provides two ways to visit your application in the browser",{"type":26,"tag":56,"props":57,"children":58},"ul",{},[59,77],{"type":26,"tag":60,"props":61,"children":62},"li",{},[63,65,70,72],{"type":32,"value":64},"Running ",{"type":26,"tag":41,"props":66,"children":67},{},[68],{"type":32,"value":69},"php artisan serve",{"type":32,"value":71},": ",{"type":26,"tag":41,"props":73,"children":74},{},[75],{"type":32,"value":76},"http://127.0.0.1:80",{"type":26,"tag":60,"props":78,"children":79},{},[80,82,87,88,93,95],{"type":32,"value":81},"Using ",{"type":26,"tag":49,"props":83,"children":84},{},[85],{"type":32,"value":86},"Vite",{"type":32,"value":47},{"type":26,"tag":41,"props":89,"children":90},{},[91],{"type":32,"value":92},"npm run dev",{"type":32,"value":94}," to: ",{"type":26,"tag":41,"props":96,"children":97},{},[98],{"type":32,"value":99},"http://backend-app.test",{"type":26,"tag":35,"props":101,"children":102},{},[103,105,110],{"type":32,"value":104},"Both ways are valid, on the frontend side ",{"type":26,"tag":49,"props":106,"children":107},{},[108],{"type":32,"value":109},"NuxtJS",{"type":32,"value":111}," provides an easy way to access your project",{"type":26,"tag":35,"props":113,"children":114},{},[115,119,120],{"type":26,"tag":41,"props":116,"children":117},{},[118],{"type":32,"value":92},{"type":32,"value":71},{"type":26,"tag":41,"props":121,"children":122},{},[123],{"type":32,"value":124},"http://127.0.0.1:8000",{"type":26,"tag":27,"props":126,"children":128},{"id":127},"set-both-projects",[129],{"type":32,"value":130},"Set both projects",{"type":26,"tag":35,"props":132,"children":133},{},[134,136,141,143,147,149],{"type":32,"value":135},"In order to test that both technologies work together\njust add a backend ",{"type":26,"tag":41,"props":137,"children":138},{},[139],{"type":32,"value":140},"route",{"type":32,"value":142}," in ",{"type":26,"tag":49,"props":144,"children":145},{},[146],{"type":32,"value":15},{"type":32,"value":148}," app and check the response in ",{"type":26,"tag":49,"props":150,"children":151},{},[152],{"type":32,"value":109},{"type":26,"tag":154,"props":155,"children":159},"pre",{"className":156,"code":157,"language":158,"meta":7},"language-php dracula","// api.php file\n\nRoute::get('hello-world', fn () => 'Hello World');\n","php",[160],{"type":26,"tag":41,"props":161,"children":162},{"__ignoreMap":7},[163,175,182],{"type":26,"tag":164,"props":165,"children":168},"span",{"class":166,"line":167},"line",1,[169],{"type":26,"tag":164,"props":170,"children":172},{"class":171},"ct-784317",[173],{"type":32,"value":174},"// api.php file\n",{"type":26,"tag":164,"props":176,"children":178},{"class":166,"line":177},2,[179],{"type":26,"tag":164,"props":180,"children":181},{},[],{"type":26,"tag":164,"props":183,"children":185},{"class":166,"line":184},3,[186,192,198,204,210,216,222,226,231,236,241,245,250,254],{"type":26,"tag":164,"props":187,"children":189},{"class":188},"ct-432594",[190],{"type":32,"value":191},"Route",{"type":26,"tag":164,"props":193,"children":195},{"class":194},"ct-166232",[196],{"type":32,"value":197},"::",{"type":26,"tag":164,"props":199,"children":201},{"class":200},"ct-711500",[202],{"type":32,"value":203},"get",{"type":26,"tag":164,"props":205,"children":207},{"class":206},"ct-183901",[208],{"type":32,"value":209},"(",{"type":26,"tag":164,"props":211,"children":213},{"class":212},"ct-882767",[214],{"type":32,"value":215},"'",{"type":26,"tag":164,"props":217,"children":219},{"class":218},"ct-035036",[220],{"type":32,"value":221},"hello-world",{"type":26,"tag":164,"props":223,"children":224},{"class":212},[225],{"type":32,"value":215},{"type":26,"tag":164,"props":227,"children":228},{"class":206},[229],{"type":32,"value":230},", ",{"type":26,"tag":164,"props":232,"children":233},{"class":194},[234],{"type":32,"value":235},"fn",{"type":26,"tag":164,"props":237,"children":238},{"class":206},[239],{"type":32,"value":240}," () => ",{"type":26,"tag":164,"props":242,"children":243},{"class":212},[244],{"type":32,"value":215},{"type":26,"tag":164,"props":246,"children":247},{"class":218},[248],{"type":32,"value":249},"Hello World",{"type":26,"tag":164,"props":251,"children":252},{"class":212},[253],{"type":32,"value":215},{"type":26,"tag":164,"props":255,"children":256},{"class":206},[257],{"type":32,"value":258},");",{"type":26,"tag":35,"props":260,"children":261},{},[262,264,268],{"type":32,"value":263},"In ",{"type":26,"tag":49,"props":265,"children":266},{},[267],{"type":32,"value":109},{"type":32,"value":269}," we can make a request and get the response in any component",{"type":26,"tag":154,"props":271,"children":275},{"className":272,"code":273,"language":274,"meta":7},"language-html dracula","\u003Cscript setup>\n// replace the endpoint with your laravel api url\n    \nconst { data, pending, error } = await useFetch('http://backend-app.test/hello-world');\n\u003C/script>\n\n\u003Ctemplate>\n\u003Ch1>{{ data }}\u003C/h1>\n\u003C/template>\n","html",[276],{"type":26,"tag":41,"props":277,"children":278},{"__ignoreMap":7},[279,307,315,323,382,399,406,423,449],{"type":26,"tag":164,"props":280,"children":281},{"class":166,"line":167},[282,287,292,296,302],{"type":26,"tag":164,"props":283,"children":284},{"class":206},[285],{"type":32,"value":286},"\u003C",{"type":26,"tag":164,"props":288,"children":289},{"class":194},[290],{"type":32,"value":291},"script",{"type":26,"tag":164,"props":293,"children":294},{"class":206},[295],{"type":32,"value":47},{"type":26,"tag":164,"props":297,"children":299},{"class":298},"ct-711501",[300],{"type":32,"value":301},"setup",{"type":26,"tag":164,"props":303,"children":304},{"class":206},[305],{"type":32,"value":306},">\n",{"type":26,"tag":164,"props":308,"children":309},{"class":166,"line":177},[310],{"type":26,"tag":164,"props":311,"children":312},{"class":171},[313],{"type":32,"value":314},"// replace the endpoint with your laravel api url\n",{"type":26,"tag":164,"props":316,"children":317},{"class":166,"line":184},[318],{"type":26,"tag":164,"props":319,"children":320},{"class":206},[321],{"type":32,"value":322},"    \n",{"type":26,"tag":164,"props":324,"children":326},{"class":166,"line":325},4,[327,332,337,342,346,351,355,360,364,368,373,377],{"type":26,"tag":164,"props":328,"children":329},{"class":194},[330],{"type":32,"value":331},"const",{"type":26,"tag":164,"props":333,"children":334},{"class":206},[335],{"type":32,"value":336}," { data, pending, error } ",{"type":26,"tag":164,"props":338,"children":339},{"class":194},[340],{"type":32,"value":341},"=",{"type":26,"tag":164,"props":343,"children":344},{"class":206},[345],{"type":32,"value":47},{"type":26,"tag":164,"props":347,"children":348},{"class":194},[349],{"type":32,"value":350},"await",{"type":26,"tag":164,"props":352,"children":353},{"class":206},[354],{"type":32,"value":47},{"type":26,"tag":164,"props":356,"children":357},{"class":200},[358],{"type":32,"value":359},"useFetch",{"type":26,"tag":164,"props":361,"children":362},{"class":206},[363],{"type":32,"value":209},{"type":26,"tag":164,"props":365,"children":366},{"class":212},[367],{"type":32,"value":215},{"type":26,"tag":164,"props":369,"children":370},{"class":218},[371],{"type":32,"value":372},"http://backend-app.test/hello-world",{"type":26,"tag":164,"props":374,"children":375},{"class":212},[376],{"type":32,"value":215},{"type":26,"tag":164,"props":378,"children":379},{"class":206},[380],{"type":32,"value":381},");\n",{"type":26,"tag":164,"props":383,"children":385},{"class":166,"line":384},5,[386,391,395],{"type":26,"tag":164,"props":387,"children":388},{"class":206},[389],{"type":32,"value":390},"\u003C/",{"type":26,"tag":164,"props":392,"children":393},{"class":194},[394],{"type":32,"value":291},{"type":26,"tag":164,"props":396,"children":397},{"class":206},[398],{"type":32,"value":306},{"type":26,"tag":164,"props":400,"children":402},{"class":166,"line":401},6,[403],{"type":26,"tag":164,"props":404,"children":405},{},[],{"type":26,"tag":164,"props":407,"children":409},{"class":166,"line":408},7,[410,414,419],{"type":26,"tag":164,"props":411,"children":412},{"class":206},[413],{"type":32,"value":286},{"type":26,"tag":164,"props":415,"children":416},{"class":194},[417],{"type":32,"value":418},"template",{"type":26,"tag":164,"props":420,"children":421},{"class":206},[422],{"type":32,"value":306},{"type":26,"tag":164,"props":424,"children":426},{"class":166,"line":425},8,[427,431,436,441,445],{"type":26,"tag":164,"props":428,"children":429},{"class":206},[430],{"type":32,"value":286},{"type":26,"tag":164,"props":432,"children":433},{"class":194},[434],{"type":32,"value":435},"h1",{"type":26,"tag":164,"props":437,"children":438},{"class":206},[439],{"type":32,"value":440},">{{ data }}\u003C/",{"type":26,"tag":164,"props":442,"children":443},{"class":194},[444],{"type":32,"value":435},{"type":26,"tag":164,"props":446,"children":447},{"class":206},[448],{"type":32,"value":306},{"type":26,"tag":164,"props":450,"children":452},{"class":166,"line":451},9,[453,457,461],{"type":26,"tag":164,"props":454,"children":455},{"class":206},[456],{"type":32,"value":390},{"type":26,"tag":164,"props":458,"children":459},{"class":194},[460],{"type":32,"value":418},{"type":26,"tag":164,"props":462,"children":463},{"class":206},[464],{"type":32,"value":465},">",{"type":26,"tag":35,"props":467,"children":468},{},[469,471],{"type":32,"value":470},"If you open the console you are going to be able to see an issue related to ",{"type":26,"tag":49,"props":472,"children":473},{},[474],{"type":32,"value":475},"CORS",{"type":26,"tag":27,"props":477,"children":479},{"id":478},"solving-cors-problem",[480],{"type":32,"value":481},"Solving CORS problem",{"type":26,"tag":35,"props":483,"children":484},{},[485,487,492,494,499],{"type":32,"value":486},"Go to ",{"type":26,"tag":41,"props":488,"children":489},{},[490],{"type":32,"value":491},"nuxt.config.ts",{"type":32,"value":493}," file in the root directory and add a ",{"type":26,"tag":41,"props":495,"children":496},{},[497],{"type":32,"value":498},"routeRule",{"type":32,"value":500}," object",{"type":26,"tag":154,"props":502,"children":506},{"className":503,"code":504,"language":505,"meta":7},"language-typescript dracula","export default defineNuxtConfig({\n  devtools: { enabled: true },\n  // ...\n  routeRules: {\n    '/api/**': { proxy: { to: \"http://backend-app.test/**\" } }\n  }\n})\n","typescript",[507],{"type":26,"tag":41,"props":508,"children":509},{"__ignoreMap":7},[510,541,578,591,608,674,682],{"type":26,"tag":164,"props":511,"children":512},{"class":166,"line":167},[513,518,522,527,531,536],{"type":26,"tag":164,"props":514,"children":515},{"class":194},[516],{"type":32,"value":517},"export",{"type":26,"tag":164,"props":519,"children":520},{"class":206},[521],{"type":32,"value":47},{"type":26,"tag":164,"props":523,"children":524},{"class":194},[525],{"type":32,"value":526},"default",{"type":26,"tag":164,"props":528,"children":529},{"class":206},[530],{"type":32,"value":47},{"type":26,"tag":164,"props":532,"children":533},{"class":200},[534],{"type":32,"value":535},"defineNuxtConfig",{"type":26,"tag":164,"props":537,"children":538},{"class":206},[539],{"type":32,"value":540},"({\n",{"type":26,"tag":164,"props":542,"children":543},{"class":166,"line":177},[544,549,554,559,563,567,573],{"type":26,"tag":164,"props":545,"children":546},{"class":206},[547],{"type":32,"value":548},"  devtools",{"type":26,"tag":164,"props":550,"children":551},{"class":194},[552],{"type":32,"value":553},":",{"type":26,"tag":164,"props":555,"children":556},{"class":206},[557],{"type":32,"value":558}," { enabled",{"type":26,"tag":164,"props":560,"children":561},{"class":194},[562],{"type":32,"value":553},{"type":26,"tag":164,"props":564,"children":565},{"class":206},[566],{"type":32,"value":47},{"type":26,"tag":164,"props":568,"children":570},{"class":569},"ct-531774",[571],{"type":32,"value":572},"true",{"type":26,"tag":164,"props":574,"children":575},{"class":206},[576],{"type":32,"value":577}," },\n",{"type":26,"tag":164,"props":579,"children":580},{"class":166,"line":184},[581,586],{"type":26,"tag":164,"props":582,"children":583},{"class":206},[584],{"type":32,"value":585},"  ",{"type":26,"tag":164,"props":587,"children":588},{"class":171},[589],{"type":32,"value":590},"// ...\n",{"type":26,"tag":164,"props":592,"children":593},{"class":166,"line":325},[594,599,603],{"type":26,"tag":164,"props":595,"children":596},{"class":206},[597],{"type":32,"value":598},"  routeRules",{"type":26,"tag":164,"props":600,"children":601},{"class":194},[602],{"type":32,"value":553},{"type":26,"tag":164,"props":604,"children":605},{"class":206},[606],{"type":32,"value":607}," {\n",{"type":26,"tag":164,"props":609,"children":610},{"class":166,"line":384},[611,616,620,625,629,633,638,642,647,651,655,660,665,669],{"type":26,"tag":164,"props":612,"children":613},{"class":206},[614],{"type":32,"value":615},"    ",{"type":26,"tag":164,"props":617,"children":618},{"class":212},[619],{"type":32,"value":215},{"type":26,"tag":164,"props":621,"children":622},{"class":218},[623],{"type":32,"value":624},"/api/**",{"type":26,"tag":164,"props":626,"children":627},{"class":212},[628],{"type":32,"value":215},{"type":26,"tag":164,"props":630,"children":631},{"class":194},[632],{"type":32,"value":553},{"type":26,"tag":164,"props":634,"children":635},{"class":206},[636],{"type":32,"value":637}," { proxy",{"type":26,"tag":164,"props":639,"children":640},{"class":194},[641],{"type":32,"value":553},{"type":26,"tag":164,"props":643,"children":644},{"class":206},[645],{"type":32,"value":646}," { to",{"type":26,"tag":164,"props":648,"children":649},{"class":194},[650],{"type":32,"value":553},{"type":26,"tag":164,"props":652,"children":653},{"class":206},[654],{"type":32,"value":47},{"type":26,"tag":164,"props":656,"children":657},{"class":212},[658],{"type":32,"value":659},"\"",{"type":26,"tag":164,"props":661,"children":662},{"class":218},[663],{"type":32,"value":664},"http://backend-app.test/**",{"type":26,"tag":164,"props":666,"children":667},{"class":212},[668],{"type":32,"value":659},{"type":26,"tag":164,"props":670,"children":671},{"class":206},[672],{"type":32,"value":673}," } }\n",{"type":26,"tag":164,"props":675,"children":676},{"class":166,"line":401},[677],{"type":26,"tag":164,"props":678,"children":679},{"class":206},[680],{"type":32,"value":681},"  }\n",{"type":26,"tag":164,"props":683,"children":684},{"class":166,"line":408},[685],{"type":26,"tag":164,"props":686,"children":687},{"class":206},[688],{"type":32,"value":689},"})",{"type":26,"tag":35,"props":691,"children":692},{},[693,695,699],{"type":32,"value":694},"Now just rebuild the frontend by re-running: ",{"type":26,"tag":41,"props":696,"children":697},{},[698],{"type":32,"value":92},{"type":32,"value":700}," and it now should show the request response without issues",{"type":26,"tag":27,"props":702,"children":704},{"id":703},"take-in-mind",[705],{"type":32,"value":706},"Take in mind:",{"type":26,"tag":56,"props":708,"children":709},{},[710,715,727],{"type":26,"tag":60,"props":711,"children":712},{},[713],{"type":32,"value":714},"You do not need to do this for external API services",{"type":26,"tag":60,"props":716,"children":717},{},[718,720,725],{"type":32,"value":719},"You can add a prefix to your backend route like: ",{"type":26,"tag":41,"props":721,"children":722},{},[723],{"type":32,"value":724},"http://backend-app.test/api/**",{"type":32,"value":726}," to allow wildcard only for api routes",{"type":26,"tag":60,"props":728,"children":729},{},[730,732,737,739,743,745,750,752,757],{"type":32,"value":731},"If you are using a ",{"type":26,"tag":41,"props":733,"children":734},{},[735],{"type":32,"value":736},"JsonResource",{"type":32,"value":738}," wrapper as a response in ",{"type":26,"tag":49,"props":740,"children":741},{},[742],{"type":32,"value":15},{"type":32,"value":744}," usually the response would be available when fetching the data as: ",{"type":26,"tag":41,"props":746,"children":747},{},[748],{"type":32,"value":749},"data.data",{"type":32,"value":751}," in the ",{"type":26,"tag":49,"props":753,"children":754},{},[755],{"type":32,"value":756},"Nuxt",{"type":32,"value":758}," side",{"type":26,"tag":35,"props":760,"children":761},{},[762],{"type":32,"value":763},"Thanks for reading!",{"type":26,"tag":765,"props":766,"children":767},"style",{},[768],{"type":32,"value":769},".dracula{color:#F8F8F2;background:#282A36;}.ct-784317{color:#6272A4;}.ct-432594{color:#8BE9FD;font-style:italic;}.ct-166232{color:#FF79C6;}.ct-711500{color:#50FA7B;}.ct-183901{color:#F8F8F2;}.ct-882767{color:#E9F284;}.ct-035036{color:#F1FA8C;}.ct-711501{color:#50FA7B;font-style:italic;}.ct-531774{color:#BD93F9;}",{"title":7,"searchDepth":177,"depth":177,"links":771},[772,773,774,775],{"id":29,"depth":177,"text":33},{"id":127,"depth":177,"text":130},{"id":478,"depth":177,"text":481},{"id":703,"depth":177,"text":706},"markdown","content:blog:31-fix-nuxtjs-laravel-cors-issue.md","content","blog/31-fix-nuxtjs-laravel-cors-issue.md","md",1696973719757]